(最后修改时间: 2019.10.11)
## Node
  * Node is a runtime environment for executing JavaScript Code.
  * Node 既不是一种语言，也不是一个框架，而是一个能执行 JavaScript 代码的运行时环境。
  * 把速度最快的 javascript 引擎 —— Google的 V8 引擎嵌入到了一个C++程序中，并且把这个程序叫做 Node。

## 运行原理
  * 单线程
    - 应用程序的请求过程主要分为：CPU运算和I/O读写。而CPU运算速度远高于磁盘读写速度，这就导致CPU运算已经完成，但不得不等待I/O操作完成后再继续接下来业务。
    - 因此，I/O才是应用程序的瓶颈所在。
    - 在I/O密集型业务中，会同时开启多个处理程序，共同处理业务，如果这些处理程序在同一个应用程序进程中，那就是多线程。
    - 那么就引导出 单线程：在同一个应用程序进程中，只有一个处理程序，这就是单线程。
    - 当然，Node的单线程并不是严格意义的单线程。只是开启了单个线程进行业务处理（cpu的运算），同时开启了其他线程专门处理I/O。
  * 异步I/O
    - 一般，多线程中，处理完对应的业务（CPU运算）后，需要继续等待I/O操作完成后，再继续后续操作。这种I/O操作方式，是同步I/O。
    - 异步I/O 指在处理I/O操作时，线程可以继续往后执行后续业务，等I/O执行完成后，返过来再执行I/O回调。即不影响后续业务的I/O操作，为异步I/O。
  * 事件驱动
    - 浏览器中，事件驱动模型三要素：`事件源`、`事件`和`事件处理程序`
      1. 事件源：产生事件的地方（Html元素）
      2. 事件：点击/鼠标操作/键盘操作等等
      3. 事件对象：当某个事件发生时，可能会产生一个事件对象，该事件对象会封装好该事件的信息，传递给事件处理程序
      4. 事件处理程序：响应用户事件的代码
    - Node中，事件驱动 简单讲，就是进程运行过程中，都在围绕事件的触发、处理、回调。
    - 事件驱动是标准的 生产者/消费者模型。
  * 整个运行机制
    1. 进程启动，开启一个类似 while(true)的循环，称之为 `EVENT LOOP`。
    2. 同时开启其他线程专门处理I/O。如：File System、Network、Process。这些线程都在 `WORKER THREADS` 中。
    3. 同时存在一个 `EVENT QUEUE` 的队列，存放 `观察者，如：文件I/O、网络I/O`、`响应事件的代码执行程序`。
    4. 事件循环，检查队列中是否存在要执行内容，发现则执行，执行过程中，发现I/O操作，则`封锁操作状态`(BLOCKING OPERATION)，将I/O交给对应的专门处理线程处理，然后继续执行。等待下一轮循环，检查到I/O操作完成时，`EXECUTE CALLBACK`执行回调。